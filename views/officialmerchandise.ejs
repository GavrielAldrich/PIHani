<%- include ("partials/header.ejs") %>

<section class="products" id="products">
    <h1 class="heading-pages">Official <span>Merchandise</span></h1>
    <div class="box-container">
        <% products.forEach(product => { %>
            <div class="box">
                <span class="label">new</span>
                <div class="image">
                    <img src="/uploads/<%= product.product_image %>" alt="<%= product.product_name %>">
                    <div class="icons">
                        <a href="#" class="cart-btn" onclick="orderNow('<%= product.id %>')">Order Now</a>
                    </div>
                </div>
                <div class="content">
                    <h3><%= product.product_name %></h3>
                    <div class="price">Rp <%= Number(product.product_price).toFixed(2) %> </div>
                    <!-- Ensure product_price is converted to Number before using toFixed -->
                </div>
            </div>
        <% }); %>
    </div>
</section>

<!-- JavaScript for order action -->
<script>
    function orderNow(productId) {
        // Example implementation: Redirect to a route for buying the product
        window.location.href = '/buyproduct/' + productId;
    }
</script>
